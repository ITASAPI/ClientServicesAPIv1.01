FORMAT: 1A
HOST: http://yourITASserver:4715/

# ITAS IServices

## AccessToken [/AT]
Model Header containing AccessToken

+ Model
    + Header

            Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1bmlxdWVfbmFtZSI6ImRlZXBhayIsInN1YiI6ImRlZXBhayIsInJvbGUiOlsiNzk5YjhhNDEtYWI0ZS00MTBhLWI5MTktYzU3ZWFlMmFlMDI5IiwiZGVlcGFrIiwiQVNQLk5FVCBJZGVudGl0eSIsIjViNDE4ODE2LTI3ZjQtNGRlOC1iNmMyLTJlZTcxNjI3ZmJmYyIsIkFkbWluIiwiU3VwZXJBZG1pbiJdLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwMjciLCJhdWQiOiI4MjkzNjk0MjJmNzA0NTIzODUxZDk4NTU2YjZkNTQyYiIsImV4cCI6MTQ1OTQzMjk0MSwibmJmIjoxNDU5NDMxMTQxfQ.JgPGxt0Ok5baKx0YMXlO6D9kUYrCWM-Kma9b9iMW8tg

# Group ITAS Services Control
Endpoints to get and set the status of ITAS windows services

# Group Key Value Pair Store
Save and look up key/value pairs for any use, based on the group they belong to

# Key/Value Pair Store

The Key Value Pair Store (kvpstore) allows users to store and retrieve arbitrary key/value pairs, organised into groups of similar keys.

## Collection of groups [/kvpstore]

### List all groups [GET]

+ Response 200 (application/json)
    + Attributes (object)
        + groupsTotal: 2 (number)
        + data (array [KvpGroup List])

### Create new group [POST]

+ Request
    + Body

            {
                "groupName": "groupC",
                "groupDescription": "description for new group"
            }

+ Response 201 (application/json)
    + Attributes (KvpGroup)
        + keysTotal: 0 (number)


## Single group [/kvpstore/{groupName}]

+ Parameters
    + groupName (required, string, `groupA`) - ID of the group (a precent-encoded string)

### Get details of a group and list all its key/value pairs [GET]

+ response 200 (application/json)
    + Attributes (KvpGroup)
        + keysTotal: 2 (number)
        + data (array [KvpKey])

### Create new key/value pair [POST]

+ Request
    + Body

            {
                "keyName": "key",
                "keyValue": "new sample string",
            }

+ response 201 (application/json)
    + Attributes (KvpKey)


### Delete a specific group [DELETE]

+ Response 200 (application/json)
    + Attributes (KvpGroup)
        + response: deleted (string)
        + keysAffected: 2 (number)



## Single Key [/kvpstore/{groupName}/{keyName}]
+ Parameters
    + groupName (required, string, `groupA`) - ID of the group
    + keyName (required, string, `nameA`) ... Name of the key in a key/value pair


### Get a single key/value pair [GET]

+ response 200 (application/json)
    + Attributes (KvpKey)


### Delete a specific key [DELETE]

+ response 200 (application/json)
    + Attributes (KvpKey)
        + response: deleted (string)




# Group Data Functions

## Frozen DB Check [/datafunctions/frozen/dbcheck]
### Check [GET]
+ Request
    [AccessToken][]

+ Response 200 (application/json)



# Group Physical Contract
Retrieve metadata and other information about ITAS Physical Contracts

# Group Codes
Web services to support creating, reading and updating ITAS Codes

+ Response 200 (application/json)

# Group Data Object Definitions
List of re-usable Data Objects referenced as `object` types. Note that these endpoints are not accessable and only here for reference purposes.

# Data Structures

## 200 SuccessResponse (object)
+ Value: Success (string)

## 200 CreateResponse (object)
+ Value: Created (string)

## 200 AuthoriseResponse (object)
+ Value: Authorised (string)

## 201 UpdateResponse (object)
+ Value: Updated (string)


## 400 Response (object)
+ Response
    + Value: 400 Bad Request (string)
+ Messages (array [400 ErrorMessageDetail])

## 400 BadPropertyResponse (object)
+ Response
    + Value: 400 Bad Request (string)
+ Messages (array[400 BadPropertyErrorMessageDetail])

## 400 ErrorMessageDetail (object)
+ Severity: Error (string)
+ Message: `API5058 - Data : The mandatory field {fieldName} was missing in the request body.` (string)

## 400 WarningMessageDetail (object)
+ Severity: Warning (string)
+ Message: `API50xx - Data : The field {fieldName} was not found.` (string)

## 400 InfoMessageDetail (object)
+ Severity: Information (string)
+ Message: `API50xx - Data : Now create xyz.` (string)

## 400 BadPropertyErrorMessageDetail (object)
+ Severity: Error (string)
+ Message: `API5068 - API : The value sent in the querystring variable {Property} is not allowed.` (string)

## 404 Response (object)
+ Response
    + Value: 404 Objet not found (string)
+ Messages (array[404 ErrorMessageDetailMessage])

## 404 ErrorMessageDetailMessage (object)
+ Severity: Warning (string)
+ Message: `API5067 - API : The value {TradingEntityId} sent as the TradingEntitiyId does not exist.` (string)

## accessToken (object)
+ Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1bmlxdWVfbmFtZSI6ImRlZXBhayIsInN1YiI6ImRlZXBhayIsInJvbGUiOlsiNzk5YjhhNDEtYWI0ZS00MTBhLWI5MTktYzU3ZWFlMmFlMDI5IiwiZGVlcGFrIiwiQVNQLk5FVCBJZGVudGl0eSIsIjViNDE4ODE2LTI3ZjQtNGRlOC1iNmMyLTJlZTcxNjI3ZmJmYyIsIkFkbWluIiwiU3VwZXJBZG1pbiJdLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwMjciLCJhdWQiOiI4MjkzNjk0MjJmNzA0NTIzODUxZDk4NTU2YjZkNTQyYiIsImV4cCI6MTQ1OTQzMjk0MSwibmJmIjoxNDU5NDMxMTQxfQ.JgPGxt0Ok5baKx0YMXlO6D9kUYrCWM-Kma9b9iMW8tg (string)

## Pagination (object)
+ Total: 547 (number) - total number of records available
+ Top: 200 (number) - max number returned per message
+ Skip: 400 (number) - number of records skipped
+ Returned: 146 (number) - actual number returned

## KvpKey (object)
+ keyName: nameA (string)
+ keyValue: sample string (string)
+ keyUrl: kvpstore/groupA/nameA
+ groupName: groupA (string)
+ groupDescription: sample string value  (string)
+ groupID: 1 (number)
+ groupUrl: kvpstore/groupA (string)

## KvpKey List (object)
+ keyName: nameA (string)
+ keyValue: sample string (string)
+ keyUrl: kvpstore/groupA/nameA

## KvpGroup (object)
+ groupName: groupC (string)
+ groupID: 3 (number)
+ groupDescription: description for new group (string)
+ groupUrl: /kvpstore/groupC (string)

## KvpGroup List (object)
+ groupName: groupC (string)
+ groupID: 3 (number)
+ groupUrl: /kvpstore/groupC (string)
